ANDRE STRATEGY â€“ FINALNI TEHNIÄŒKI PLAN RADA

Cilj: Implementirati kompletnu Andre strategiju kao automatski sistem na tvom postojeÄ‡em AI Scalper/Bybit okviru.

âœ” Zasnovano na: 100+ trejdova, RAD/0G/PIXEL/NMR danima, Nov 20â€“21 live potvrdi

âœ” Validirano: win rate 96.6%, +1229% oktobar, ~26 min average hold

ğŸ¯ NaÅ¡ cilj za sistem: 65%+ win rate u paper modu, stabilan kod, bez bugova, bez ruÅ¡enja

Tehnologije:

Node.js (isti stil kao tvoj engine: ES modules, event-driven)

PostojeÄ‡i microstructure moduli (orderbook, flow, pump detector)

Bybit API (USDT perp), kasnije MEXC/Webhook ako hoÄ‡eÅ¡

SQLite / JSON / ili tvoj trading.db za state & trade logove

Start capital (implementation faze):

Paper: virtuelni account $10,000

Live: $25/trade â†’ posle validacije skaliranje ka $100 (AndrÃ© level)

âš™ FAZA 0 â€“ ARHITEKTURA & INTEGRACIJA (pre svega)

Cilj: Da Andre modul nije â€ÄudoviÅ¡te sa straneâ€œ, nego Äist modul koji se Å¡lepuje na postojeÄ‡i scalper-base.

0.1 Modul struktura

PredlaÅ¾em sledeÄ‡e module (folderi / fajlovi):

src/andre/config/andre-config.js â€“ SVI pragovi, procenti, satnica, limiti (niÅ¡ta hardkodirano po kodu)

src/andre/macro/macro-engine.js â€“ VIX, Altseason, F&G, Liq, BTC context

src/andre/signals/alert-intake.js â€“ parsing bot alertova / mock generator

src/andre/signals/signal-engine.js â€“ 2-stage, RSI, volume, scarcity, FR scoring

src/andre/entry/peak-detector.js â€“ peak & pullback

src/andre/entry/microstructure-check.js â€“ orderbook + flow + volume exhaustion (hook na tvoje module)

src/andre/entry/entry-decider.js â€“ scoring 0â€“100 + odluka da li ulazimo

src/andre/risk/skip-filters.js â€“ time-of-day, weekend, daily limit, win-rate, macro veto

src/andre/risk/trade-limits.js â€“ per-trade risk, portfolio heat, concurrent max 3

src/andre/position/position-manager.js â€“ TP1/2/3, partial exits, DCA, SLâ†’BE

src/andre/state/state-machine.js â€“ IDLE â†’ SIGNAL_DETECTED â†’ â€¦ â†’ CLOSED

src/andre/exchange/bybit-adapter.js â€“ clean wrapper preko tvog Bybit konektora

src/andre/backtest/paper-engine.js â€“ paper trading simulacija

src/andre/logs/andre-logger.js â€“ svi logovi na jednom mestu (JSONL + human)

0.2 Integracija sa postojeÄ‡im sistemom

Ne pravimo â€novi botâ€œ, nego AndreEngine kao deo tvog main engine-a:

Event: andre:newAlert (kad stigne alert iz Discord/webhooka)

Event: andre:newTradeState (kad se state menja)

Event: andre:positionUpdated (TP/DCA/SL promena)

KoriÅ¡Ä‡enje postojeÄ‡ih modula:

orderbook snapshots iz tvog market huba

trade flow / tick data iz tvog WS layer-a

pump detector kao dodatni kill-switch (kokteli 10%/5min ready)

ğŸ¯ FAZA 1 â€“ SIGNAL GENERATOR (Nedelja 1â€“2)

Cilj: Bot alerts â†’ strukturisani signal kandidati + osnovni scoring.

1.1 Alert intake & parsing

SOURCE:

v1: mock JSON feed (fajl + replayer)

v2: Discord webhook / HTTP endpoint (kasnije)

Zadaci:

Parse: symbol, price, RSI, MFI, BB status, volume, avgVolume, fundingRate, lastSeen, timeframe (60m), type (Volatility/Scalp Reversal/MEXC)

ÄŒuvanje u alertsBuffer[symbol] = [ ...last N alerts ]

Normalizacija lastSeen u sati (float)

1.2 Two-stage detection (Volatility â†’ Scalp Reversal)

TraÅ¾i:

Stage 1: type = VOLATILITY (NEUTRAL)

Stage 2: type = SCALP_REVERSAL (BEARISH/BULLISH) za isti symbol

Î”t izmeÄ‘u alertova 1â€“10 minuta

Pravila:

Stage 2 bez Stage 1 â†’ upola manje poena

Stage 2 >10min posle Stage 1 â†’ odbaci (setup se raspao)

Output: candidateSignal objekat

1.3 RSI/MFI/Bollinger filter

RSI (60m):

80 â†’ EXTREME, +max poeni

75â€“80 â†’ valid, puni poeni

70â€“75 â†’ pola poena

< 70 â†’ reject za scalp reversal

MFI (60m):

80 â†’ potvrda iscrpljenosti

Bollinger:

status OUTSIDE_UPPER / OUTSIDE_LOWER â†’ +confidence

1.4 Volume anomaly

volumeMultiplier = current / avg24h

Pragovi:

<3x â†’ reject

3â€“5x â†’ normal anomaly

5â€“10x â†’ strong

10x â†’ monster spike (AUDIO nivo)

1.5 Scarcity (Last Seen)

<4h â†’ noisy/choppy, skip

4â€“24h â†’ normal

>24h â†’ rare, +bonus na score

1.6 Funding rate context (lokalno, bez makro istorije)

U ovoj fazi samo:

upiÅ¡i trenutni FR u signal

taguj da li je u neutral zoni (|FR| <0.1%) ili veÄ‡ sad ekstreman

1.7 Testovi & ciljevi

Unit test za parser, lastSeen parser, 2-stage matcher

Replay FWOG/RAD alert sekvenci â†’ dobiti validan candidateSignal

âœ… Cilj Faze 1:
Imamo siguran, proverljiv candidateSignal objekat sa:

2-stage info

RSI/MFI/BB status

volumeMultiplier

lastSeenHours

fundingRate snapshot

ğŸŒ FAZA 2 â€“ MACRO FILTERS (Nedelja 2)

Cilj: Da ne trejdujeÅ¡ u ludilu: globalni kill-switch + environment score.

2.1 VIX (kill switch)

Fetch 15min/1h: VIX

Pravila:

30 â†’ FULL STOP (niÅ¡ta se ne trejduje), macro.proceed = false

25â€“30 â†’ pola size, -confidence

<20 â†’ normal

2.2 Altseason index & BTC dominance

Altseason:

75 â†’ ALTSEASON: boost za alt signale

50â€“75 â†’ normalno

<50 â†’ BTC dominantno: alt signali traÅ¾e viÅ¡i score da proÄ‘u

Opcija: kasnije posebna BTC strategija, za sada â€“ alt only.

2.3 Fear & Greed

<45 â†’ FEAR: smanji apetiti, izbegavaj agresivne shortove

60â€“80 â†’ Healthy Greed (AndrÃ© sweet spot) â†’ +confidence

85 â†’ Extreme Greed: brzo TP1/TP2, izbegavaj nove longove

2.4 24h liquidations

500M â†’ prevelik haos, cooldown 2â€“4h

200â€“500M â†’ savrÅ¡eno za scalping (volatilno ali ne ludilo)

<100M â†’ previÅ¡e mirno â†’ smanji confidence

2.5 BTC directional context

BTC 24h change:

+3% â†’ long bias na altove

<âˆ’3% â†’ short bias

|Î”| <1% â†’ chop: pooÅ¡tri entry score requirements

2.6 Macro scoring & output

Kombinovano:

VIX = hard veto

Ostalo â†’ macroScore 0â€“1

Minimalno:

macroScore >= 0.5 da bi signal uopÅ¡te iÅ¡ao u dalju obradu

Output objekat:

macro = { proceed, macroScore, sizeMultiplier, notes[] }

ğŸ¯ FAZA 3 â€“ PEAK DETECTION & ENTRY TIMING (Nedelja 2â€“3)

Cilj: Kopiramo RAD entry stil: NE ulazimo u peak, nego u 3â€“5% pullback sa potvrdom mikrostrukture.

3.1 Real-time price & candle stream

Po dobijanju validnog candidateSignal + macro.proceed = true:

attach se na WS price feed 1s tick / 1m candle

vode se:

peakPrice

lista poslednjih 4â€“5 1m candli

trenutni pullback procent

3.2 Peak detection

Dok ne vidimo pattern:

cena pravila novi high (peak update)

Peak potvrÄ‘en kada:

vidimo prvu RED candle posle lokalnog high

zatim cilj: min 2â€“3 red candli u nizu ZA short

3.3 Pullback zona

pullbackPct = (peak - current) / peak * 100

Pravila:

<2% â†’ prerano, nastavi Äekanje

2â€“3% â†’ acceptable (pola poena)

3â€“5% â†’ sweet spot (puni poeni)

5% â†’ prekasno â†’ skip

3.4 Microstructure confirmation (hook na tvoje module)

Za short:

Orderbook imbalance:

bidVolume/(bid+ask) < 0.40

Trade flow:

5m delta: buyVol âˆ’ sellVol < âˆ’X (moÅ¾e fixed, npr. âˆ’15000, ili relativno)

Candles:

â‰¥3/4 red 1m candli

Volume exhaustion:

lastCandleVolume < 50% peakVolume u prethodnim 5 candli

Output: { safe: boolean, metrics, reason }

3.5 Entry scoring 0â€“100

Preuzmi tvoj postojeÄ‡i dizajn, ali formalno:

2-stage alert timing â†’ 30

RSI (60m) â†’ 20

Pullback zona â†’ 20

Orderbook (imbalance) â†’ 15

Flow delta â†’ 10

Volume exhaustion â†’ 5

totalScore >= 70 â†’ kandidat za entry.

3.6 Entry execution

Kad: score >= 70 && microstructure.safe

Order:

Market order (da ne propustimo entry)

Size:

bazno: $25 * macro.sizeMultiplier

proveri i portfolio heat (vidi FAZA 5 risk)

Odmah raÄunamo:

TP1/2/3 price

DCA levele

ğŸš« FAZA 4 â€“ SKIP FILTERS / RISK GATES (Nedelja 3)

Cilj: Sve Å¡to si fenomenalno opisao â€“ formalizovano kao filter pre ENTRY.

4.1 Time-of-day filter

Trading dani: PONâ€“PET

Trading sati:

aktivno: 09:00â€“18:00 UTC

peak: 12â€“14 UTC (log samo za analitiku)

nakon 18:00 â†’ nikakvi novi entry-ji, samo management otvorenih

4.2 Weekend filter

Subota, nedelja:

allowNewTrades = false

dopuÅ¡teno: monitoring, test, paper

4.3 Daily trade & PnL limiti

Broj trejdova danas:

normalno: 2â€“7

hard max: 10

PnL:

ako daily ROI >= npr. +500% i score < 85 â†’ skip

ako daily ROI >= +1000% â†’ samo 90+ score, ili full stop (moÅ¾e config)

4.4 Concurrent positions & portfolio heat âœ… (DODATO)

Ovde dodajem ono Å¡to ti treba za pravo upravljanje rizikom (znaÅ¡ da voliÅ¡ â€portfolio heatâ€œ):

Max otvorenih pozicija: 3 (AndrÃ© confirm)

Svaka pozicija ima:

max planiran margin usage ako svi DCA pogode (najgori sluÄaj)

Pravilo:

suma max planned margin / accountEquity <= portfolioHeatLimit

npr. portfolioHeatLimit = 0.25 (25% accounta worst-case)

Ako bi novi trejd preko DCA potencijalno prebacio heat â†’ skip ili smanji poÄetni size.

4.5 Win-rate zaÅ¡tita

Ako danas wins >= 3 && losses == 0:

zahtevaj npr. score â‰¥ 80 da bi uÅ¡ao u 4. trejd

posle 5 winstreak â†’ joÅ¡ rigorozniji filter

4.6 Skip logging

Svaki skip piÅ¡emo kao:

{
  "time": "...",
  "symbol": "RADUSDT",
  "reason": "TIME_WINDOW",
  "details": "...",
  "candidateScore": 78
}


Kasnije Ä‡e ti ovo biti zlato za tuning.

ğŸ’° FAZA 5 â€“ POSITION MANAGEMENT: TP/DCA/SL (Nedelja 3â€“4)

Cilj: Formalizujemo Andre TP/SL/DCA logiku 1:1.

5.1 TP kalkulator

Leverage 25x, ROI vs price:

~0.84% move = ~21% ROI (TP1)

~1.64% move = ~41% ROI (TP2)

~4% move = ~100% ROI (TP3)

ÄŒisto u kodu:

tp1Price = entry * (side === 'SHORT' ? (1 - 0.0084) : (1 + 0.0084))

analogno za tp2/tp3

TP4/TP5: NIJE IMPLEMENTIRANO (flag u configu enableTp4 = false)

5.2 DCA kalkulator

Standard:

+5%, +15%, +35% od entry

High-risk:

+2, 5, 10, 20, 40% (kao specijalni mod)

Svaki DCA:

size = jednako poÄetnom (ili config-abilno)

Iz ovoga izraÄunavamo:

worst-case margin usage per trade

5.3 Partial exits

TP1: zatvori 40% pozicije

TP2: zatvori 30% (od originalnog)

TP3: zatvori preostalih 30%

5.4 Stop loss & breakeven

Pre TP1: nema SL (pure DCA)

Kad TP1 hit:

prebacujemo SL na entry (breakeven)

cancel svi preostali DCA orderi

Nema trailing SL.

5.5 Position monitoring loop

1s tick (ili 2â€“3s ako Å¾eliÅ¡ rastereÄ‡enje)

Event-driven:

price cross TP/ DCA level â†’ emituje event â†’ obrada

ğŸ”„ FAZA 6 â€“ STATE MACHINE (Nedelja 4)

Cilj: Da nema haosa u logici â€“ sve kroz states.

Stanja (kako si veÄ‡ lepo definisao):

IDLE

SIGNAL_DETECTED

WAITING_PEAK

WAITING_PULLBACK

ENTRY_PENDING

IN_POSITION

PARTIAL_EXIT

RISK_FREE

CLOSING

CLOSED

Dodatno:

ABORTED (npr. macro kill switch, timeout, prekasno za entry)

Svako stanje:

ima dozvoljene from â†’ to prelaze

ima handler funkciju

upisuje se u DB (da moÅ¾eÅ¡ da se oporaviÅ¡ posle crash-a)

ğŸŒ FAZA 7 â€“ BYBIT API / EXCHANGE ADAPTER (Nedelja 4â€“5)

Cilj: ÄŒist adapter sloj â€“ da moÅ¾eÅ¡ jednog dana da staviÅ¡ MEXC ili neku treÄ‡u burzu bez menjanja logike.

bybitAdapter.placeMarketOrder(symbol, side, qty)

bybitAdapter.placeLimitOrder(...)

bybitAdapter.cancelOrder(id)

bybitAdapter.getOpenPositions()

bybitAdapter.getBalance()

WS subscribe/emit veÄ‡ imaÅ¡ â€“ samo ih uveÅ¾i.

ğŸ“‹ FAZA 8 â€“ PAPER TRADING (Nedelja 5â€“6)

Cilj: FULL povezani sistem, ali bez realnih para.

Paper engine:

snapshotuje price sa realnog feed-a

simulira order fills (realistic, ne idealno)

prati equity, PnL, drawdown, heat

Ciljevi:

min 50â€“60 trejdova

win rate â‰¥ 65%

proveri da nema memory leak, crash, deadlock

ğŸ›  FAZA 9 â€“ TUNING & HARDENING (Nedelja 6â€“7)

Cilj: Po papir rezultatima malo doteramo pragove, ali bez masakra baze.

Tuning:

moÅ¾da prebaciti minimum score 70 â†’ 75, ili neÅ¡to sliÄno ako ima previÅ¡e â€graniÄnihâ€œ trejdova

pooÅ¡triti volumeMin sa 3x â†’ 4x ako je previÅ¡e Å¡uma

Dodati:

pump detector >10%/5min auto exit

dnevni loss limit (npr. âˆ’5%)

Dashboard:

prikaÅ¾i macro stanje, otvorene pozicije, trade log, win rate, ROI per day

ğŸ’¸ FAZA 10 â€“ LIVE ROLLOUT (Week 7+)

Faza 10.1 â€“ mikro live:

$100â€“200 total, $25/trade

1â€“2 trade-a dnevno, ruka na pulsu

Faza 10.2 â€“ small live:

$500 total, do 3 pozicije

Faza 10.3 â€“ scale:

$1k â†’ $5k â†’ ... ako:

20+ trejdova sa profitom

50+ trejdova, win rate â‰¥ 70%, nema â€katastrofalnihâ€œ dana

âœ… Checkpointi (sumirano)

Kraj 2. nedelje:
Signal generator + macro engine rade, 2-stage, RSI, volume, scarcity â†’ OK

Kraj 3. nedelje:
Peak + pullback + microstructure + scoring â†’ moÅ¾e da odluÄi entry

Kraj 4. nedelje:
TP/DCA/SL + state machine + skip filters â†’ komplet trade lifecycle

Kraj 5. nedelje:
Bybit adapter + paper mode live na realnom marketu

Kraj 6. nedelje:
50+ paper trejdova, analiza, tuning

Week 7+:
mikro live, posle toga scaling

Å ta sam JA dodao / ispeglao u odnosu na tvoj draft

âœ… Uveo FAZU 0 â€“ integracija sa postojeÄ‡im engine-om (da ne pravimo FrankenÅ¡tajna)

âœ… Uveo eksplicitno portfolio heat i worst-case DCA margin (to ti je ogroman plus)

âœ… Jasno odvojio:

Signal generator (F1)

Macro (F2)

Entry timing + microstructure (F3)

Skip/risk gates (F4)

Execution (F5)

State machine (F6)

âœ… Smanjio dupliranje (npr. funding rate: jednom kao local signal info, jednom u macro istoriji)

âœ… Naglasio striktne kill switches (VIX, weekend, time window)

âœ… Ostao 100% veran tvojoj logici (NO TP4/5, NO initial SL, NO trailing, 3 positions max, Monâ€“Fri only, cutoff 18:00)
